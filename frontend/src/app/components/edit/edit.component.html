<section class="edit bordered shaded">
  <button class="edit-close bordered shaded"
  (click)="cancelChar()"><span>x</span></button>
  <div class="form grid">
    <div class="form-container grid-12">
      <h3>Dados Pessoais</h3>
      <div class="grid">
        <div class="form-group grid-6">
          <input type="text" placeholder="Nome" [(ngModel)]="character.name">
        </div>
        <div class="form-group grid-3">
          <select aria-placeholder="sexo" [(ngModel)]="character.sex">
            <option value="M">Masculino</option>
            <option value="F">Feminino</option>
          </select>
        </div>
        <div class="form-group grid-3">
          <input type="number" min="0" placeholder="Nível" [(ngModel)]="character.level">
        </div>
        <div class="form-group grid-5">
          <input type="text" placeholder="Raça" [(ngModel)]="character.race">
        </div>
        <div class="form-group grid-5">
          <input type="text" placeholder="Classe" [(ngModel)]="character.class">
        </div>
        <div class="form-group unified-group grid-2">
          <div class="unified {{character.unified ? 'checked' : ''}}" (click)="character.unified = !character.unified">
          </div>
          <p>Unificado</p>
        </div>
      </div>
    </div>
    <div class="form-container grid-12">
      <h3>Atributos</h3>
      <div class="grid">
        <div class="form-group grid-2">
          <span class="brutal">Vida: </span>
          <input type="number" min="0" [(ngModel)]="character.life">
        </div>
        <div class="form-group grid-2">
          <span class="brutal">Mana: </span>
          <input type="number" min="0" [(ngModel)]="character.mana">
        </div>
        <div class="form-group grid-2">
          <span class="brutal">Força: </span>
          <input type="number" min="0" [(ngModel)]="character.strength">
        </div>
        <div class="form-group grid-2">
          <span class="brutal">Agilidade: </span>
          <input type="number" min="0" [(ngModel)]="character.agility">
        </div>
        <div class="form-group grid-2">
          <span class="brutal">Inteligência: </span>
          <input type="number" min="0" [(ngModel)]="character.intelligence">
        </div>
        <div class="form-group grid-2">
          <span class="brutal">Vontade: </span>
          <input type="number" min="0" [(ngModel)]="character.will">
        </div>
        <div class="form-group grid-3">
          <span class="brutal">Armadura: </span>
          <input type="number" min="0" value="-1" (change)="setArmorBonus($event)">
        </div>
        <div class="form-group grid-3">
          <span class="brutal">Bônus Bloqueio: </span>
          <input type="number" min="0" [(ngModel)]="character.block.blockBonus">
        </div>
        <div class="form-group grid-3">
          <span class="brutal">Bônus Esquiva: </span>
          <input type="number" min="0" [(ngModel)]="character.dodge.dodgeBonus">
        </div>
        <div class="form-group grid-3">
          <span class="brutal">Bônus Determinação: </span>
          <input type="number" min="0" [(ngModel)]="character.determination.determinationBonus">
        </div>
      </div>
    </div>
    <div class="form-container form-equipAbility grid-12 grid">
      <div class="form-column grid-6">
        <h3>
          <button class="form-column-btn" (click)="panelEdit = 'equipment'">+</button>
          Equipamentos ({{character.equipments.length}})
        </h3>
        <div class="scroll">
          <div class="form-column-item" *ngFor="let equip of character.equipments">
            <h4>{{equip.name}}</h4>
            <p class="italic">"{{equip.description}}"</p>
            <p><span class="brutal">Preço: </span>{{equip.price}}</p>
            <p><span class="brutal">Tipo: </span>{{equip.type}}</p>
            <p><span class="brutal">Força necessária: </span>{{equip.fn}}</p>
            <p><span class="brutal">Dano: </span>{{equip.damage}}</p>
            <p><span class="brutal">Efeitos: </span>{{equip.effects}}</p>
          </div>
        </div>
      </div>

      <div class="form-column grid-6">
        <h3>
          <button class="form-column-btn" (click)="panelEdit = 'ability'">+</button>
          Habilidades ({{character.abilities.length}})
        </h3>
        <div class="scroll">
          <div class="form-column-item" *ngFor="let abili of character.abilities">
            <h4>{{abili.name}} ({{abili.type}})</h4>
            <p><span class="brutal">Custo: </span>{{abili.cost}}</p>
            <p><span class="brutal">Dificuldade: </span>{{abili.diff}}</p>
            <p><span class="brutal">Requisitos: </span>{{abili.requisites}}</p>
            <p><span class="brutal">Descrição: </span>{{abili.description}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="edit-selector grid">
    <div class="form-add-button bordered grid-6"><button (click)="editChar()">Salvar</button></div>
    <div class="form-add-button bordered grid-6"><button (click)="cancelChar()">Cancelar</button></div>
  </div>
  <app-add-equip *ngIf="panelEdit == 'equipment'" (newEquipment)="addEquipment($event)"
    (cancel)="panelEdit ='none'"></app-add-equip>
  <app-add-ability *ngIf="panelEdit == 'ability'" (newAbility)="addAbility($event)"
    (cancel)="panelEdit = 'none'"></app-add-ability>
</section>
